# Staging Environment Configuration
# Django Settings
DEBUG=False
DJANGO_SETTINGS_MODULE=config.settings.production
SECRET_KEY=${SECRET_KEY}

# Database Configuration
DATABASE_URL=${DATABASE_URL}
POSTGRES_DB=${POSTGRES_DB}
POSTGRES_USER=${POSTGRES_USER}
POSTGRES_PASSWORD=${POSTGRES_PASSWORD}
POSTGRES_HOST=${POSTGRES_HOST:-db}
POSTGRES_PORT=${POSTGRES_PORT:-5432}

# PostgreSQL Performance Settings (Smaller than production)
PG_MAX_CONNECTIONS=100
PG_SHARED_BUFFERS=256MB
PG_WORK_MEM=4MB
PG_MAINTENANCE_WORK_MEM=64MB
PG_EFFECTIVE_CACHE_SIZE=1GB
PG_WAL_BUFFERS=16MB
PG_LOG_STATEMENT=none
PG_LOG_MIN_DURATION=2000

# Cache Configuration
CACHE_URL=${CACHE_URL}
MEMCACHED_MEMORY=128
MEMCACHED_CONNECTIONS=1024
MEMCACHED_THREADS=4

# Message Queue Configuration
RABBITMQ_URL=${RABBITMQ_URL}
RABBITMQ_USERNAME=${RABBITMQ_USERNAME}
RABBITMQ_PASSWORD=${RABBITMQ_PASSWORD}
RABBITMQ_VHOST=${RABBITMQ_VHOST:-/}
RABBITMQ_MANAGEMENT_PORT=15672

# Redis Configuration
REDIS_URL=${REDIS_URL}

# Logging Configuration
LOG_LEVEL=DEBUG
DJANGO_LOG_LEVEL=INFO

# Security Configuration
ALLOWED_HOSTS=${ALLOWED_HOSTS}
CORS_ALLOWED_ORIGINS=${CORS_ALLOWED_ORIGINS}

# SSL/TLS Configuration (Less strict than production)
SECURE_SSL_REDIRECT=False
SECURE_HSTS_SECONDS=0
SECURE_CONTENT_TYPE_NOSNIFF=True
SECURE_BROWSER_XSS_FILTER=True
X_FRAME_OPTIONS=SAMEORIGIN

# Docker Platform
DOCKER_PLATFORM=linux/amd64

# Monitoring
SENTRY_DSN=${SENTRY_DSN}