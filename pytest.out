============================= test session starts ==============================
platform linux -- Python 3.13.3, pytest-7.4.3, pluggy-1.6.0
django: version: 5.1.3, settings: config.settings.testing (from ini)
rootdir: /workspace
configfile: pyproject.toml
testpaths: tests
plugins: django-4.7.0, cov-4.1.0
collected 606 items / 29 errors

==================================== ERRORS ====================================
____________________ ERROR collecting tests/test_tenant.py _____________________
ImportError while importing test module '/workspace/tests/test_tenant.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/test_tenant.py:9: in <module>
    from app.core.tenant import Organization, UserOrganizationLink, TenantType
app/core/tenant.py:10: in <module>
    from app.core.db.uuid_type import UUID
E   ModuleNotFoundError: No module named 'app.core.db.uuid_type'
_________________ ERROR collecting tests/test_tenant_logic.py __________________
ImportError while importing test module '/workspace/tests/test_tenant_logic.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/test_tenant_logic.py:7: in <module>
    from app.core.tenant import TenantType, TenantMixin
app/core/tenant.py:10: in <module>
    from app.core.db.uuid_type import UUID
E   ModuleNotFoundError: No module named 'app.core.db.uuid_type'
_____ ERROR collecting tests/integration/test_comprehensive_integration.py _____
ImportError while importing test module '/workspace/tests/integration/test_comprehensive_integration.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/integration/test_comprehensive_integration.py:12: in <module>
    from fastapi.testclient import TestClient
E   ModuleNotFoundError: No module named 'fastapi'
___________ ERROR collecting tests/integration/test_dashboard_api.py ___________
ImportError while importing test module '/workspace/tests/integration/test_dashboard_api.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/integration/test_dashboard_api.py:6: in <module>
    from fastapi.testclient import TestClient
E   ModuleNotFoundError: No module named 'fastapi'
_______ ERROR collecting tests/integration/test_tagging_analytics_api.py _______
ImportError while importing test module '/workspace/tests/integration/test_tagging_analytics_api.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/integration/test_tagging_analytics_api.py:4: in <module>
    from fastapi.testclient import TestClient
E   ModuleNotFoundError: No module named 'fastapi'
__ ERROR collecting tests/integration/test_transaction_classification_api.py ___
ImportError while importing test module '/workspace/tests/integration/test_transaction_classification_api.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/integration/test_transaction_classification_api.py:7: in <module>
    from app.financial_models import Transaction
app/financial_models.py:12: in <module>
    from app.core.db.uuid_type import UUID
E   ModuleNotFoundError: No module named 'app.core.db.uuid_type'
_____ ERROR collecting tests/unit/test_100_percent_comprehensive_fixed.py ______
ImportError while importing test module '/workspace/tests/unit/test_100_percent_comprehensive_fixed.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/unit/test_100_percent_comprehensive_fixed.py:18: in <module>
    from app.core.tenant import TenantType, Organization, TenantMixin
app/core/tenant.py:10: in <module>
    from app.core.db.uuid_type import UUID
E   ModuleNotFoundError: No module named 'app.core.db.uuid_type'
___________________ ERROR collecting tests/unit/test_api.py ____________________
ImportError while importing test module '/workspace/tests/unit/test_api.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/unit/test_api.py:10: in <module>
    from fastapi import HTTPException
E   ModuleNotFoundError: No module named 'fastapi'
_____________ ERROR collecting tests/unit/test_api_100_percent.py ______________
ImportError while importing test module '/workspace/tests/unit/test_api_100_percent.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/unit/test_api_100_percent.py:14: in <module>
    from fastapi import HTTPException
E   ModuleNotFoundError: No module named 'fastapi'
____________ ERROR collecting tests/unit/test_api_comprehensive.py _____________
ImportError while importing test module '/workspace/tests/unit/test_api_comprehensive.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/unit/test_api_comprehensive.py:11: in <module>
    from fastapi.testclient import TestClient
E   ModuleNotFoundError: No module named 'fastapi'
_______________ ERROR collecting tests/unit/test_api_coverage.py _______________
ImportError while importing test module '/workspace/tests/unit/test_api_coverage.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/unit/test_api_coverage.py:9: in <module>
    from app.api import router
app/api/__init__.py:6: in <module>
    from .import_views import (
app/api/import_views.py:25: in <module>
    from ..services.file_import_service import FileImportService
app/services/__init__.py:6: in <module>
    from .file_import_service import FileImportService, CSVParserService, ImportDataValidator
app/services/file_import_service.py:8: in <module>
    import pandas as pd
E   ModuleNotFoundError: No module named 'pandas'
___________________ ERROR collecting tests/unit/test_auth.py ___________________
ImportError while importing test module '/workspace/tests/unit/test_auth.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/unit/test_auth.py:9: in <module>
    from fastapi import HTTPException
E   ModuleNotFoundError: No module named 'fastapi'
______________ ERROR collecting tests/unit/test_auth_coverage.py _______________
ImportError while importing test module '/workspace/tests/unit/test_auth_coverage.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/unit/test_auth_coverage.py:9: in <module>
    from app.auth import Authentication, TokenManager, PermissionChecker
app/auth.py:5: in <module>
    from fastapi import Depends, HTTPException, Security, status
E   ModuleNotFoundError: No module named 'fastapi'
______ ERROR collecting tests/unit/test_complete_100_percent_coverage.py _______
ImportError while importing test module '/workspace/tests/unit/test_complete_100_percent_coverage.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/unit/test_complete_100_percent_coverage.py:38: in <module>
    from fastapi import FastAPI, HTTPException, Request, Response
E   ModuleNotFoundError: No module named 'fastapi'
____________ ERROR collecting tests/unit/test_complete_coverage.py _____________
ImportError while importing test module '/workspace/tests/unit/test_complete_coverage.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/unit/test_complete_coverage.py:18: in <module>
    from app.auth import Authentication, TokenManager, PermissionChecker
app/auth.py:5: in <module>
    from fastapi import Depends, HTTPException, Security, status
E   ModuleNotFoundError: No module named 'fastapi'
__________ ERROR collecting tests/unit/test_comprehensive_coverage.py __________
ImportError while importing test module '/workspace/tests/unit/test_comprehensive_coverage.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/unit/test_comprehensive_coverage.py:16: in <module>
    from app.core.tenant import TenantMixin, TenantType, Organization
app/core/tenant.py:10: in <module>
    from app.core.db.uuid_type import UUID
E   ModuleNotFoundError: No module named 'app.core.db.uuid_type'
____________ ERROR collecting tests/unit/test_comprehensive_unit.py ____________
ImportError while importing test module '/workspace/tests/unit/test_comprehensive_unit.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/unit/test_comprehensive_unit.py:14: in <module>
    from app.auth import Authentication, TokenManager, PermissionChecker, get_current_user, require_role, get_tenant_context
app/auth.py:5: in <module>
    from fastapi import Depends, HTTPException, Security, status
E   ModuleNotFoundError: No module named 'fastapi'
___________________ ERROR collecting tests/unit/test_core.py ___________________
ImportError while importing test module '/workspace/tests/unit/test_core.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/unit/test_core.py:9: in <module>
    from app.core.rbac import RBACManager
app/core/rbac.py:17: in <module>
    from app.core.db.connection import get_db_session
E   ImportError: cannot import name 'get_db_session' from 'app.core.db.connection' (/workspace/app/core/db/connection.py)
______________ ERROR collecting tests/unit/test_core_services.py _______________
ImportError while importing test module '/workspace/tests/unit/test_core_services.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/unit/test_core_services.py:13: in <module>
    from app.services import TenantService
app/services/__init__.py:6: in <module>
    from .file_import_service import FileImportService, CSVParserService, ImportDataValidator
app/services/file_import_service.py:8: in <module>
    import pandas as pd
E   ModuleNotFoundError: No module named 'pandas'
________________ ERROR collecting tests/unit/test_dashboard.py _________________
ImportError while importing test module '/workspace/tests/unit/test_dashboard.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/unit/test_dashboard.py:8: in <module>
    from app.dashboard_service import DashboardService
app/dashboard_service.py:10: in <module>
    from app.core.db.connection import get_db_session
E   ImportError: cannot import name 'get_db_session' from 'app.core.db.connection' (/workspace/app/core/db/connection.py)
_________ ERROR collecting tests/unit/test_dashboard_comprehensive.py __________
ImportError while importing test module '/workspace/tests/unit/test_dashboard_comprehensive.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/unit/test_dashboard_comprehensive.py:13: in <module>
    from app.dashboard_service import DashboardService
app/dashboard_service.py:10: in <module>
    from app.core.db.connection import get_db_session
E   ImportError: cannot import name 'get_db_session' from 'app.core.db.connection' (/workspace/app/core/db/connection.py)
____________ ERROR collecting tests/unit/test_enhanced_coverage.py _____________
ImportError while importing test module '/workspace/tests/unit/test_enhanced_coverage.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/unit/test_enhanced_coverage.py:20: in <module>
    from fastapi import HTTPException, Request, Response
E   ModuleNotFoundError: No module named 'fastapi'
________ ERROR collecting tests/unit/test_final_100_percent_complete.py ________
ImportError while importing test module '/workspace/tests/unit/test_final_100_percent_complete.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/unit/test_final_100_percent_complete.py:55: in <module>
    from fastapi import FastAPI, HTTPException, Request, Response, Depends
E   ModuleNotFoundError: No module named 'fastapi'
_____________ ERROR collecting tests/unit/test_financial_models.py _____________
ImportError while importing test module '/workspace/tests/unit/test_financial_models.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/unit/test_financial_models.py:33: in <module>
    from app.financial_models import Account, Transaction, Budget, Fee
app/financial_models.py:12: in <module>
    from app.core.db.uuid_type import UUID
E   ModuleNotFoundError: No module named 'app.core.db.uuid_type'
_____________ ERROR collecting tests/unit/test_main_100_percent.py _____________
ImportError while importing test module '/workspace/tests/unit/test_main_100_percent.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/unit/test_main_100_percent.py:10: in <module>
    from fastapi import FastAPI
E   ModuleNotFoundError: No module named 'fastapi'
____________ ERROR collecting tests/unit/test_services_coverage.py _____________
ImportError while importing test module '/workspace/tests/unit/test_services_coverage.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/unit/test_services_coverage.py:8: in <module>
    from app.services import TenantService
app/services/__init__.py:6: in <module>
    from .file_import_service import FileImportService, CSVParserService, ImportDataValidator
app/services/file_import_service.py:8: in <module>
    import pandas as pd
E   ModuleNotFoundError: No module named 'pandas'
____________ ERROR collecting tests/unit/test_tagging_analytics.py _____________
ImportError while importing test module '/workspace/tests/unit/test_tagging_analytics.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/unit/test_tagging_analytics.py:8: in <module>
    from app.core.models import User, Role
E   ModuleNotFoundError: No module named 'app.core.models'
________ ERROR collecting tests/unit/test_transaction_classification.py ________
ImportError while importing test module '/workspace/tests/unit/test_transaction_classification.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/unit/test_transaction_classification.py:8: in <module>
    from app.transaction_classifier import (
app/transaction_classifier.py:10: in <module>
    from app.financial_models import Transaction
app/financial_models.py:12: in <module>
    from app.core.db.uuid_type import UUID
E   ModuleNotFoundError: No module named 'app.core.db.uuid_type'
__________ ERROR collecting tests/unit/test_zero_coverage_focused.py ___________
ImportError while importing test module '/workspace/tests/unit/test_zero_coverage_focused.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.13/importlib/__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/unit/test_zero_coverage_focused.py:12: in <module>
    from fastapi.testclient import TestClient
E   ModuleNotFoundError: No module named 'fastapi'

---------- coverage: platform linux, python 3.13.3-final-0 -----------
Name                                                      Stmts   Miss  Cover
-----------------------------------------------------------------------------
app/__init__.py                                               1      0   100%
app/admin.py                                                127     22    83%
app/api/__init__.py                                           2      1    50%
app/api/import_views.py                                     247    236     4%
app/api_views.py                                            165    154     7%
app/apps.py                                                  23     12    48%
app/auth.py                                                  81     79     2%
app/core/__init__.py                                          0      0   100%
app/core/audit.py                                           129    129     0%
app/core/cache/__init__.py                                    0      0   100%
app/core/cache/memcached.py                                  78     55    29%
app/core/db/__init__.py                                       0      0   100%
app/core/db/connection.py                                     2      0   100%
app/core/queue/__init__.py                                    0      0   100%
app/core/queue/rabbitmq.py                                  105    105     0%
app/core/rbac.py                                            173    166     4%
app/core/tenant.py                                           35     29    17%
app/dashboard_service.py                                     61     55    10%
app/django_audit.py                                         195    195     0%
app/django_models.py                                        187     16    91%
app/django_rbac.py                                          210    210     0%
app/financial_models.py                                      83     75    10%
app/management/__init__.py                                    0      0   100%
app/management/commands/__init__.py                           0      0   100%
app/management/commands/health_check.py                      57     57     0%
app/management/commands/setup_production.py                  89     89     0%
app/management/commands/validate_production_security.py     183    183     0%
app/managers.py                                             128     88    31%
app/middleware.py                                           150    131    13%
app/ml/__init__.py                                            2      2     0%
app/ml/categorization_service.py                            205    205     0%
app/models.py                                                 3      3     0%
app/models/__init__.py                                        3      0   100%
app/models/import_models.py                                 289     86    70%
app/monitoring.py                                           147    147     0%
app/permissions.py                                           79     79     0%
app/schemas.py                                              442    442     0%
app/security/__init__.py                                      2      2     0%
app/security/monitoring.py                                  202    202     0%
app/serializers.py                                           99     99     0%
app/serializers/__init__.py                                   2      0   100%
app/serializers/import_serializers.py                       129     40    69%
app/services.py                                              64     64     0%
app/services/__init__.py                                      2      1    50%
app/services/excel_import_service.py                        298    298     0%
app/services/file_import_service.py                         293    292     1%
app/tagging_models.py                                        71     71     0%
app/tagging_service.py                                      176    176     0%
app/tasks/__init__.py                                         2      2     0%
app/transaction_analytics.py                                163    156     4%
app/transaction_classifier.py                               143    137     4%
app/urls.py                                                  19     16    16%
app/validators.py                                           134    134     0%
app/web_urls.py                                               9      9     0%
app/web_views.py                                            382    382     0%
-----------------------------------------------------------------------------
TOTAL                                                      5871   5132    13%
Coverage HTML written to dir htmlcov

FAIL Required test coverage of 80% not reached. Total coverage: 12.59%
=========================== short test summary info ============================
ERROR tests/test_tenant.py
ERROR tests/test_tenant_logic.py
ERROR tests/integration/test_comprehensive_integration.py
ERROR tests/integration/test_dashboard_api.py
ERROR tests/integration/test_tagging_analytics_api.py
ERROR tests/integration/test_transaction_classification_api.py
ERROR tests/unit/test_100_percent_comprehensive_fixed.py
ERROR tests/unit/test_api.py
ERROR tests/unit/test_api_100_percent.py
ERROR tests/unit/test_api_comprehensive.py
ERROR tests/unit/test_api_coverage.py
ERROR tests/unit/test_auth.py
ERROR tests/unit/test_auth_coverage.py
ERROR tests/unit/test_complete_100_percent_coverage.py
ERROR tests/unit/test_complete_coverage.py
ERROR tests/unit/test_comprehensive_coverage.py
ERROR tests/unit/test_comprehensive_unit.py
ERROR tests/unit/test_core.py
ERROR tests/unit/test_core_services.py
ERROR tests/unit/test_dashboard.py
ERROR tests/unit/test_dashboard_comprehensive.py
ERROR tests/unit/test_enhanced_coverage.py
ERROR tests/unit/test_final_100_percent_complete.py
ERROR tests/unit/test_financial_models.py
ERROR tests/unit/test_main_100_percent.py
ERROR tests/unit/test_services_coverage.py
ERROR tests/unit/test_tagging_analytics.py
ERROR tests/unit/test_transaction_classification.py
ERROR tests/unit/test_zero_coverage_focused.py
!!!!!!!!!!!!!!!!!!! Interrupted: 29 errors during collection !!!!!!!!!!!!!!!!!!!
============================== 29 errors in 4.37s ==============================
